{"ast":null,"code":"const handleLogin = async () => {\n  try {\n    // 发送 POST 请求到后端登录接口\n    const response = await fetch('http://127.0.0.1:8000/users/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        // 这里只传递 email 和 password\n        email: username,\n        // 假设 username 实际上是用户的电子邮件\n        password: password\n      })\n    });\n    const data = await response.json();\n    if (data.message === \"Login successful\") {\n      // 登录成功，跳转到首页\n      navigate('/HomePage');\n    } else {\n      // 登录失败，显示错误信息\n      alert('登录失败: ' + data.message);\n    }\n  } catch (error) {\n    // 请求出错，显示错误信息\n    alert('登录请求失败');\n  }\n};","map":{"version":3,"names":["handleLogin","response","fetch","method","headers","body","JSON","stringify","email","username","password","data","json","message","navigate","alert","error"],"sources":["D:/aanew/AdaptiveArtemisNewsRecommendation/src/pages/LoginPage.js"],"sourcesContent":["const handleLogin = async () => {\r\n  try {\r\n    // 发送 POST 请求到后端登录接口\r\n    const response = await fetch('http://127.0.0.1:8000/users/api/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        // 这里只传递 email 和 password\r\n        email: username,  // 假设 username 实际上是用户的电子邮件\r\n        password: password\r\n      })\r\n    })\r\n\r\n    const data = await response.json()\r\n    if (data.message === \"Login successful\") {\r\n      // 登录成功，跳转到首页\r\n      navigate('/HomePage')\r\n    } else {\r\n      // 登录失败，显示错误信息\r\n      alert('登录失败: ' + data.message)\r\n    }\r\n  } catch (error) {\r\n    // 请求出错，显示错误信息\r\n    alert('登录请求失败')\r\n  }\r\n}\r\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,uCAAuC,EAAE;MACpEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnB;QACAC,KAAK,EAAEC,QAAQ;QAAG;QAClBC,QAAQ,EAAEA;MACZ,CAAC;IACH,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAClC,IAAID,IAAI,CAACE,OAAO,KAAK,kBAAkB,EAAE;MACvC;MACAC,QAAQ,CAAC,WAAW,CAAC;IACvB,CAAC,MAAM;MACL;MACAC,KAAK,CAAC,QAAQ,GAAGJ,IAAI,CAACE,OAAO,CAAC;IAChC;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;IACAD,KAAK,CAAC,QAAQ,CAAC;EACjB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}